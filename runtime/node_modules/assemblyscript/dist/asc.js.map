{"version":3,"sources":["webpack://asc/webpack/universalModuleDefinition","webpack://asc/webpack/bootstrap","webpack://asc/../node_modules/node-libs-browser/mock/process.js","webpack://asc/../node_modules/path-browserify/index.js","webpack://asc/../node_modules/webpack/buildin/global.js","webpack://asc/./util/colors.js","webpack://asc/. sync","webpack://asc/./asc.js","webpack://asc/./util/utf8.js","webpack://asc/./util/options.js","webpack://asc/./util/mkdirp.js","webpack://asc/./util/find.js","webpack://asc/external \"binaryen\"","webpack://asc/external \"assemblyscript\"","webpack://asc/../node_modules/browser-process-hrtime/index.js"],"names":["root","factory","exports","module","require","e","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE__12__","__WEBPACK_EXTERNAL_MODULE__13__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","path","cwd","nextTick","fn","args","Array","slice","arguments","shift","setTimeout","apply","platform","arch","execPath","title","pid","browser","env","argv","binding","Error","chdir","dir","resolve","exit","kill","umask","dlopen","uptime","memoryUsage","uvCounters","features","normalizeArray","parts","allowAboveRoot","up","length","last","splice","unshift","filter","xs","f","res","push","resolvedPath","resolvedAbsolute","process","TypeError","charAt","split","join","normalize","isAbsolute","trailingSlash","substr","paths","index","relative","from","to","trim","arr","start","end","fromParts","toParts","Math","min","samePartsLength","outputParts","concat","sep","delimiter","dirname","code","charCodeAt","hasRoot","matchedSlash","basename","ext","extname","startDot","startPart","preDotState","str","len","g","Function","window","proc","isCI","stream","base","colors","supported","isTTY","gray","text","GRAY","RESET","red","RED","green","GREEN","yellow","YELLOW","blue","BLUE","magenta","MAGENTA","cyan","CYAN","white","WHITE","stdout","stderr","webpackEmptyContext","req","keys","id","fs","utf8","colorsUtil","optionsUtil","mkdirp","find","EOL","SEP","binaryen","global","setupExtension","extension","startsWith","ext_d","re","RegExp","re_d","re_except_d","re_index","defaultExtension","assemblyscript","ready","removeAllListeners","isDev","checkDiagnostics","program","diagnostic","numErrors","nextDiagnostic","write","formatDiagnostic","isError","createStats","readTime","readCount","writeTime","writeCount","parseTime","parseCount","initializeTime","initializeCount","compileTime","compileCount","emitTime","emitCount","validateTime","validateCount","optimizeTime","optimizeCount","transformTime","transformCount","measure","hrtime","times","pad","formatTime","time","toFixed","printStats","stats","output","format","count","loadAssemblyScript","dynRequire","eval","register","project","skipIgnore","compilerOptions","target","e_ts","stack","isBundle","version","options","libraryPrefix","LIBRARY_PREFIX","defaultOptimizeLevel","defaultShrinkLevel","libraryFiles","libDir","bundled","files","forEach","file","replace","readFileSync","definitionFiles","stdDir","compileString","sources","createMemoryStream","val","opt","type","isArray","String","main","readFile","writeFile","contents","listFiles","callback","readFileNode","writeFileNode","listFilesNode","opts","parse","noColors","unknown","arg","trailing","err","test","help","out","color","baseDir","newOptions","setTarget","setNoAssert","noAssert","setExportMemory","noExportMemory","setImportMemory","importMemory","setInitialMemory","initialMemory","setMaximumMemory","maximumMemory","setSharedMemory","sharedMemory","setImportTable","importTable","setExportTable","exportTable","setExplicitStart","explicitStart","setMemoryBase","memoryBase","setTableBase","tableBase","setSourceMap","sourceMap","setNoUnsafe","noUnsafe","setPedantic","pedantic","setLowMemoryLimit","lowMemoryLimit","use","aliases","k","part","indexOf","alias","substring","setGlobalAlias","disable","flag","toUpperCase","disableFeature","enable","enableFeature","optimizeLevel","shrinkLevel","optimize","max","setOptimizeLevelHints","newProgram","transforms","transform","tsNodeRegistered","transformArgs","filename","endsWith","transpileOnly","skipProject","classOrModule","assign","log","console","error","applyTransform","transfromTime","libPath","customLibDirs","lib","map","libFiles","j","libText","packageMains","Map","packageBases","getFile","internalPath","dependeePath","sourceText","sourcePath","plainName","indexName","match","packageName","isPackageRoot","undefined","filePath","basePath","has","traceResolution","currentPath","mainPath","jsonPath","jsonText","json","JSON","ascMain","set","mainDir","parseBacklog","nextFile","getDependee","message","runtimeName","runtime","runtimePath","runtimeText","parser","normalizedPath","sort","initializeProgram","compile","dispose","noValidate","validate","trapMode","runPass","debugInfo","debug","usesARC","converge","runPasses","pass","toBinary","next","noEmit","hasStdout","hasOutput","outFile","textFile","jsFile","binaryFile","wasm","sourceMapURL","writeStdout","sourceRoot","getSource","sourcesContent","stringify","js","toAsmjs","idlFile","idl","buildIDL","tsdFile","tsd","buildTSD","wat","toText","encoding","dirPath","outputFilePath","existsSync","writeFileSync","readdirSync","used","allocBuffer","Buffer","allocUnsafe","Uint8Array","chunk","buffer","reset","toBuffer","offset","toString","read","tscOptions","alwaysStrict","noImplicitAny","noImplicitReturns","noImplicitThis","noEmitOnError","strictNullChecks","experimentalDecorators","noLib","types","allowJs","string","fromCharCode","c1","c2","sanitizeValue","Boolean","trunc","Number","v","addDefaults","config","default","defaultValue","entries","propagateDefaults","option","exec","parseInt","parseFloat","indent","padding","eol","sbCategories","sbOther","description","sb","noCategories","category","line","hasCategories","merge","currentOptions","parentOptions","mergedOptions","mutuallyExclusive","currentValue","parentValue","exclude","includes","made","mkdirSync","err0","stat","statSync","err1","isDirectory","findFiles","iname","previousTimestamp","clocktime","performanceNow","performance","seconds","floor","nanoseconds","now","mozNow","msNow","oNow","webkitNow","Date","getTime"],"mappings":"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","file":"asc.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"binaryen\"), (function webpackLoadOptionalExternalModule() { try { return require(\"assemblyscript\"); } catch(e) {} }()));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"binaryen\", \"assemblyscript\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"asc\"] = factory(require(\"binaryen\"), (function webpackLoadOptionalExternalModule() { try { return require(\"assemblyscript\"); } catch(e) {} }()));\n\telse\n\t\troot[\"asc\"] = factory(root[\"binaryen\"], root[\"assemblyscript\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE__12__, __WEBPACK_EXTERNAL_MODULE__13__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","exports.nextTick = function nextTick(fn) {\n    var args = Array.prototype.slice.call(arguments);\n    args.shift();\n    setTimeout(function () {\n        fn.apply(null, args);\n    }, 0);\n};\n\nexports.platform = exports.arch = \nexports.execPath = exports.title = 'browser';\nexports.pid = 1;\nexports.browser = true;\nexports.env = {};\nexports.argv = [];\n\nexports.binding = function (name) {\n\tthrow new Error('No such module. (Possibly not yet loaded)')\n};\n\n(function () {\n    var cwd = '/';\n    var path;\n    exports.cwd = function () { return cwd };\n    exports.chdir = function (dir) {\n        if (!path) path = require('path');\n        cwd = path.resolve(dir, cwd);\n    };\n})();\n\nexports.exit = exports.kill = \nexports.umask = exports.dlopen = \nexports.uptime = exports.memoryUsage = \nexports.uvCounters = function() {};\nexports.features = {};\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/**\n * @fileoverview Terminal colors utility.\n * @license Apache-2.0\n */\n\nvar proc = typeof process !== \"undefined\" && process || {};\nvar isCI = proc.env && \"CI\" in proc.env; // doesn't work when bundled because 'process' is a mock\n\nfunction from(stream, base) {\n  var colors = base || {};\n  colors.supported = (stream && !!stream.isTTY) || isCI;\n  colors.gray = text => colors.supported ? exports.GRAY + text + exports.RESET : text;\n  colors.red = text => colors.supported ? exports.RED + text + exports.RESET : text;\n  colors.green = text => colors.supported ? exports.GREEN + text + exports.RESET : text;\n  colors.yellow = text => colors.supported ? exports.YELLOW + text + exports.RESET : text;\n  colors.blue = text => colors.supported ? exports.BLUE + text + exports.RESET : text;\n  colors.magenta = text => colors.supported ? exports.MAGENTA + text + exports.RESET : text;\n  colors.cyan = text => colors.supported ? exports.CYAN + text + exports.RESET : text;\n  colors.white = text => colors.supported ? exports.WHITE + text + exports.RESET : text;\n  return colors;\n}\n\nexports.stdout = from(proc.stdout, exports);\nexports.stderr = from(proc.stderr);\nexports.from = from;\n\nexports.GRAY = \"\\u001b[90m\";\nexports.RED = \"\\u001b[91m\";\nexports.GREEN = \"\\u001b[92m\";\nexports.YELLOW = \"\\u001b[93m\";\nexports.BLUE = \"\\u001b[94m\";\nexports.MAGENTA = \"\\u001b[95m\";\nexports.CYAN = \"\\u001b[96m\";\nexports.WHITE = \"\\u001b[97m\";\nexports.RESET = \"\\u001b[0m\";\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 5;","/**\n * @license\n * Copyright 2020 Daniel Wirtz / The AssemblyScript Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Compiler frontend for node.js\n *\n * Uses the low-level API exported from src/index.ts so it works with the compiler compiled to\n * JavaScript as well as the compiler compiled to WebAssembly (eventually). Runs the sources\n * directly through ts-node if distribution files are not present (indicated by a `-dev` version).\n *\n * Can also be packaged as a bundle suitable for in-browser use with the standard library injected\n * in the build step. See dist/asc.js for the bundle and webpack.config.js for building details.\n */\n\n/* global BUNDLE_VERSION, BUNDLE_LIBRARY, BUNDLE_DEFINITIONS */\n\n// Use \".\" instead of \"/\" as cwd in browsers\nif (process.browser) process.cwd = function() { return \".\"; };\n\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst utf8 = require(\"./util/utf8\");\nconst colorsUtil = require(\"./util/colors\");\nconst optionsUtil = require(\"./util/options\");\nconst mkdirp = require(\"./util/mkdirp\");\nconst find = require(\"./util/find\");\nconst EOL = process.platform === \"win32\" ? \"\\r\\n\" : \"\\n\";\nconst SEP = process.platform === \"win32\" ? \"\\\\\" : \"/\";\nconst binaryen = global.binaryen || (global.binaryen = require(\"binaryen\"));\n\n// Sets up an extension with its definition counterpart and relevant regexes.\nfunction setupExtension(extension) {\n  if (!extension.startsWith(\".\")) extension = \".\" + extension;\n  return {\n    ext: extension,\n    ext_d: \".d\" + extension,\n    re: new RegExp(\"\\\\\" + extension + \"$\"),\n    re_d: new RegExp(\"\\\\.d\\\\\" + extension + \"$\"),\n    re_except_d: new RegExp(\"^(?!.*\\\\.d\\\\\" + extension + \"$).*\\\\\" + extension + \"$\"),\n    re_index: new RegExp(\"(?:^|[\\\\\\\\\\\\/])index\\\\\" + extension + \"$\")\n  };\n}\n\nconst defaultExtension = setupExtension(\".ts\");\n\n// Proxy Binaryen's ready event\nObject.defineProperty(exports, \"ready\", {\n  get: function() { return binaryen.ready; }\n});\n\n// Emscripten adds an `uncaughtException` listener to Binaryen that results in an additional\n// useless code fragment on top of an actual error. suppress this:\nif (process.removeAllListeners) process.removeAllListeners(\"uncaughtException\");\n\n// Use distribution files if present, otherwise run the sources directly.\nvar assemblyscript;\nvar isDev = false;\n(function loadAssemblyScript() {\n  try {\n    assemblyscript = require(\"assemblyscript\");\n  } catch (e) {\n    function dynRequire(...args) {\n      return eval(\"require\")(...args);\n    }\n    try { // `asc` on the command line\n      assemblyscript = dynRequire(\"../dist/assemblyscript.js\");\n    } catch (e) {\n      try { // `asc` on the command line without dist files\n        dynRequire(\"ts-node\").register({\n          project: path.join(__dirname, \"..\", \"src\", \"tsconfig.json\"),\n          skipIgnore: true,\n          compilerOptions: { target: \"ES2016\" }\n        });\n        dynRequire(\"../src/glue/js\");\n        assemblyscript = dynRequire(\"../src\");\n        isDev = true;\n      } catch (e_ts) {\n        try { // `require(\"dist/asc.js\")` in explicit browser tests\n          assemblyscript = dynRequire(\"./assemblyscript\");\n        } catch (e) {\n          throw Error(e_ts.stack + \"\\n---\\n\" + e.stack);\n        }\n      }\n    }\n  }\n})();\n\n/** Whether this is a webpack bundle or not. */\nexports.isBundle = typeof BUNDLE_VERSION === \"string\";\n\n/** Whether asc runs the sources directly or not. */\nexports.isDev = isDev;\n\n/** AssemblyScript version. */\nexports.version = exports.isBundle ? BUNDLE_VERSION : require(\"../package.json\").version;\n\n/** Available CLI options. */\nexports.options = require(\"./asc.json\");\n\n/** Prefix used for library files. */\nexports.libraryPrefix = assemblyscript.LIBRARY_PREFIX;\n\n/** Default Binaryen optimization level. */\nexports.defaultOptimizeLevel = 3;\n\n/** Default Binaryen shrink level. */\nexports.defaultShrinkLevel = 1;\n\n/** Bundled library files. */\nexports.libraryFiles = exports.isBundle ? BUNDLE_LIBRARY : (() => { // set up if not a bundle\n  const libDir = path.join(__dirname, \"..\", \"std\", \"assembly\");\n  const bundled = {};\n  find\n    .files(libDir, defaultExtension.re_except_d)\n    .forEach(file => bundled[file.replace(defaultExtension.re, \"\")] = fs.readFileSync(path.join(libDir, file), \"utf8\" ));\n  return bundled;\n})();\n\n/** Bundled definition files. */\nexports.definitionFiles = exports.isBundle ? BUNDLE_DEFINITIONS : (() => { // set up if not a bundle\n  const stdDir = path.join(__dirname, \"..\", \"std\");\n  return {\n    \"assembly\": fs.readFileSync(path.join(stdDir, \"assembly\", \"index\" + defaultExtension.ext_d), \"utf8\"),\n    \"portable\": fs.readFileSync(path.join(stdDir, \"portable\", \"index\" + defaultExtension.ext_d), \"utf8\")\n  };\n})();\n\n/** Convenience function that parses and compiles source strings directly. */\nexports.compileString = (sources, options) => {\n  if (typeof sources === \"string\") sources = { [\"input\" + defaultExtension.ext]: sources };\n  const output = Object.create({\n    stdout: createMemoryStream(),\n    stderr: createMemoryStream()\n  });\n  var argv = [\n    \"--binaryFile\", \"binary\",\n    \"--textFile\", \"text\",\n  ];\n  Object.keys(options || {}).forEach(key => {\n    var val = options[key];\n    var opt = exports.options[key];\n    if (opt && opt.type === \"b\") {\n      if (val) argv.push(\"--\" + key);\n    } else {\n      if (Array.isArray(val)) val.forEach(val => argv.push(\"--\" + key, String(val)));\n      else argv.push(\"--\" + key, String(val));\n    }\n  });\n  exports.main(argv.concat(Object.keys(sources)), {\n    stdout: output.stdout,\n    stderr: output.stderr,\n    readFile: name => Object.prototype.hasOwnProperty.call(sources, name) ? sources[name] : null,\n    writeFile: (name, contents) => output[name] = contents,\n    listFiles: () => []\n  });\n  return output;\n};\n\n/** Runs the command line utility using the specified arguments array. */\nexports.main = function main(argv, options, callback) {\n  if (typeof options === \"function\") {\n    callback = options;\n    options = {};\n  } else if (!options) {\n    options = {};\n  }\n\n  const stdout = options.stdout || process.stdout;\n  const stderr = options.stderr || process.stderr;\n  const readFile = options.readFile || readFileNode;\n  const writeFile = options.writeFile || writeFileNode;\n  const listFiles = options.listFiles || listFilesNode;\n  const stats = options.stats || createStats();\n  let extension = defaultExtension;\n\n  // Output must be specified if not present in the environment\n  if (!stdout) throw Error(\"'options.stdout' must be specified\");\n  if (!stderr) throw Error(\"'options.stderr' must be specified\");\n\n  const opts = optionsUtil.parse(argv, exports.options);\n  const args = opts.options;\n  argv = opts.arguments;\n  if (args.noColors) {\n    colorsUtil.stdout.supported =\n    colorsUtil.stderr.supported = false;\n  } else {\n    colorsUtil.stdout = colorsUtil.from(stdout);\n    colorsUtil.stderr = colorsUtil.from(stderr);\n  }\n\n  // Check for unknown arguments\n  if (opts.unknown.length) {\n    opts.unknown.forEach(arg => {\n      stderr.write(colorsUtil.stderr.yellow(\"WARNING \") + \"Unknown option '\" + arg + \"'\" + EOL);\n    });\n  }\n\n  // Check for trailing arguments\n  if (opts.trailing.length) {\n    stderr.write(colorsUtil.stderr.yellow(\"WARNING \") + \"Unsupported trailing arguments: \" + opts.trailing.join(\" \") + EOL);\n  }\n\n  // Use default callback if none is provided\n  if (!callback) callback = function defaultCallback(err) {\n    var code = 0;\n    if (err) {\n      stderr.write(colorsUtil.stderr.red(\"FAILURE \") + err.stack.replace(/^ERROR: /i, \"\") + EOL);\n      code = 1;\n    }\n    return code;\n  };\n\n  // Just print the version if requested\n  if (args.version) {\n    stdout.write(\"Version \" + exports.version + (isDev ? \"-dev\" : \"\") + EOL);\n    return callback(null);\n  }\n\n  // Use another extension if requested\n  if (typeof args.extension === \"string\") {\n    if (/^\\.?[0-9a-zA-Z]{1,14}$/.test(args.extension)) {\n      extension = setupExtension(args.extension);\n    } else {\n      return callback(Error(\"Invalid extension: \" + args.extension));\n    }\n  }\n\n  // Print the help message if requested or no source files are provided\n  if (args.help || !argv.length) {\n    var out = args.help ? stdout : stderr;\n    var color = args.help ? colorsUtil.stdout : colorsUtil.stderr;\n    out.write([\n      color.white(\"SYNTAX\"),\n      \"  \" + color.cyan(\"asc\") + \" [entryFile ...] [options]\",\n      \"\",\n      color.white(\"EXAMPLES\"),\n      \"  \" + color.cyan(\"asc\") + \" hello\" + extension.ext,\n      \"  \" + color.cyan(\"asc\") + \" hello\" + extension.ext + \" -b hello.wasm -t hello.wat\",\n      \"  \" + color.cyan(\"asc\") + \" hello1\" + extension.ext + \" hello2\" + extension.ext + \" -b -O > hello.wasm\",\n      \"\",\n      color.white(\"OPTIONS\"),\n    ].concat(\n      optionsUtil.help(exports.options, 24, EOL)\n    ).join(EOL) + EOL);\n    return callback(null);\n  }\n\n  // I/O must be specified if not present in the environment\n  if (!fs.readFileSync) {\n    if (readFile === readFileNode) throw Error(\"'options.readFile' must be specified\");\n    if (writeFile === writeFileNode) throw Error(\"'options.writeFile' must be specified\");\n    if (listFiles === listFilesNode) throw Error(\"'options.listFiles' must be specified\");\n  }\n\n  // Set up base directory\n  const baseDir = args.baseDir ? path.resolve(args.baseDir) : \".\";\n\n  // Set up options\n  const compilerOptions = assemblyscript.newOptions();\n  assemblyscript.setTarget(compilerOptions, 0);\n  assemblyscript.setNoAssert(compilerOptions, args.noAssert);\n  assemblyscript.setExportMemory(compilerOptions, !args.noExportMemory);\n  assemblyscript.setImportMemory(compilerOptions, args.importMemory);\n  assemblyscript.setInitialMemory(compilerOptions, args.initialMemory >>> 0);\n  assemblyscript.setMaximumMemory(compilerOptions, args.maximumMemory >>> 0);\n  assemblyscript.setSharedMemory(compilerOptions, args.sharedMemory);\n  assemblyscript.setImportTable(compilerOptions, args.importTable);\n  assemblyscript.setExportTable(compilerOptions, args.exportTable);\n  assemblyscript.setExplicitStart(compilerOptions, args.explicitStart);\n  assemblyscript.setMemoryBase(compilerOptions, args.memoryBase >>> 0);\n  assemblyscript.setTableBase(compilerOptions, args.tableBase >>> 0);\n  assemblyscript.setSourceMap(compilerOptions, args.sourceMap != null);\n  assemblyscript.setNoUnsafe(compilerOptions, args.noUnsafe);\n  assemblyscript.setPedantic(compilerOptions, args.pedantic);\n  assemblyscript.setLowMemoryLimit(compilerOptions, args.lowMemoryLimit >>> 0);\n\n  // Add or override aliases if specified\n  if (args.use) {\n    let aliases = args.use;\n    for (let i = 0, k = aliases.length; i < k; ++i) {\n      let part = aliases[i];\n      let p = part.indexOf(\"=\");\n      if (p < 0) return callback(Error(\"Global alias '\" + part + \"' is invalid.\"));\n      let alias = part.substring(0, p).trim();\n      let name = part.substring(p + 1).trim();\n      if (!alias.length) return callback(Error(\"Global alias '\" + part + \"' is invalid.\"));\n      assemblyscript.setGlobalAlias(compilerOptions, alias, name);\n    }\n  }\n\n  // Disable default features if specified\n  var features;\n  if ((features = args.disable) != null) {\n    if (typeof features === \"string\") features = features.split(\",\");\n    for (let i = 0, k = features.length; i < k; ++i) {\n      let name = features[i].trim();\n      let flag = assemblyscript[\"FEATURE_\" + name.replace(/-/g, \"_\").toUpperCase()];\n      if (!flag) return callback(Error(\"Feature '\" + name + \"' is unknown.\"));\n      assemblyscript.disableFeature(compilerOptions, flag);\n    }\n  }\n\n  // Enable experimental features if specified\n  if ((features = args.enable) != null) {\n    if (typeof features === \"string\") features = features.split(\",\");\n    for (let i = 0, k = features.length; i < k; ++i) {\n      let name = features[i].trim();\n      let flag = assemblyscript[\"FEATURE_\" + name.replace(/-/g, \"_\").toUpperCase()];\n      if (!flag) return callback(Error(\"Feature '\" + name + \"' is unknown.\"));\n      assemblyscript.enableFeature(compilerOptions, flag);\n    }\n  }\n\n  // Set up optimization levels\n  var optimizeLevel = 0;\n  var shrinkLevel = 0;\n  if (args.optimize) {\n    optimizeLevel = exports.defaultOptimizeLevel;\n    shrinkLevel = exports.defaultShrinkLevel;\n  }\n  if (typeof args.optimizeLevel === \"number\") optimizeLevel = args.optimizeLevel;\n  if (typeof args.shrinkLevel === \"number\") shrinkLevel = args.shrinkLevel;\n  optimizeLevel = Math.min(Math.max(optimizeLevel, 0), 3);\n  shrinkLevel = Math.min(Math.max(shrinkLevel, 0), 2);\n  assemblyscript.setOptimizeLevelHints(compilerOptions, optimizeLevel, shrinkLevel);\n\n  // Initialize the program\n  const program = assemblyscript.newProgram(compilerOptions);\n\n  // Set up transforms\n  const transforms = [];\n  if (args.transform) {\n    let tsNodeRegistered = false;\n    let transformArgs = args.transform;\n    for (let i = 0, k = transformArgs.length; i < k; ++i) {\n      let filename = transformArgs[i].trim();\n      if (!tsNodeRegistered && filename.endsWith(\".ts\")) { // ts-node requires .ts specifically\n        require(\"ts-node\").register({ transpileOnly: true, skipProject: true, compilerOptions: { target: \"ES2016\" } });\n        tsNodeRegistered = true;\n      }\n      try {\n        const classOrModule = require(require.resolve(filename, { paths: [baseDir, process.cwd()] }));\n        if (typeof classOrModule === \"function\") {\n          Object.assign(classOrModule.prototype, {\n            program,\n            baseDir,\n            stdout,\n            stderr,\n            log: console.error,\n            readFile,\n            writeFile,\n            listFiles\n          });\n          transforms.push(new classOrModule());\n        } else {\n          transforms.push(classOrModule); // legacy module\n        }\n      } catch (e) {\n        return callback(e);\n      }\n    }\n  }\n  function applyTransform(name, ...args) {\n    for (let i = 0, k = transforms.length; i < k; ++i) {\n      let transform = transforms[i];\n      if (typeof transform[name] === \"function\") {\n        try {\n          stats.transformCount++;\n          stats.transfromTime += measure(() => {\n            transform[name](...args);\n          });\n        } catch (e) {\n          return e;\n        }\n      }\n    }\n  }\n\n  // Parse library files\n  Object.keys(exports.libraryFiles).forEach(libPath => {\n    if (libPath.indexOf(\"/\") >= 0) return; // in sub-directory: imported on demand\n    stats.parseCount++;\n    stats.parseTime += measure(() => {\n      assemblyscript.parse(program, exports.libraryFiles[libPath], exports.libraryPrefix + libPath + extension.ext, false);\n    });\n  });\n  const customLibDirs = [];\n  if (args.lib) {\n    let lib = args.lib;\n    if (typeof lib === \"string\") lib = lib.split(\",\");\n    Array.prototype.push.apply(customLibDirs, lib.map(lib => lib.trim()));\n    for (let i = 0, k = customLibDirs.length; i < k; ++i) { // custom\n      let libDir = customLibDirs[i];\n      let libFiles;\n      if (libDir.endsWith(extension.ext)) {\n        libFiles = [ path.basename(libDir) ];\n        libDir = path.dirname(libDir);\n      } else {\n        libFiles = listFiles(libDir, baseDir) || [];\n      }\n      for (let j = 0, l = libFiles.length; j < l; ++j) {\n        let libPath = libFiles[j];\n        let libText = readFile(libPath, libDir);\n        if (libText === null) return callback(Error(\"Library file '\" + libPath + \"' not found.\"));\n        stats.parseCount++;\n        exports.libraryFiles[libPath.replace(extension.re, \"\")] = libText;\n        stats.parseTime += measure(() => {\n          assemblyscript.parse(program, libText, exports.libraryPrefix + libPath, false);\n        });\n      }\n    }\n  }\n  args.path = args.path || [];\n\n  // Maps package names to parent directory\n  var packageMains = new Map();\n  var packageBases = new Map();\n\n  // Gets the file matching the specified source path, imported at the given dependee path\n  function getFile(internalPath, dependeePath) {\n    var sourceText = null; // text reported back to the compiler\n    var sourcePath = null; // path reported back to the compiler\n\n    const libraryPrefix = exports.libraryPrefix;\n    const libraryFiles = exports.libraryFiles;\n\n    // Try file.ext, file/index.ext, file.d.ext\n    if (!internalPath.startsWith(libraryPrefix)) {\n      if ((sourceText = readFile(sourcePath = internalPath + extension.ext, baseDir)) == null) {\n        if ((sourceText = readFile(sourcePath = internalPath + \"/index\" + extension.ext, baseDir)) == null) {\n          // portable d.ext: uses the .js file next to it in JS or becomes an import in Wasm\n          sourcePath = internalPath + extension.ext;\n          sourceText = readFile(internalPath + extension.ext_d, baseDir);\n        }\n      }\n\n    // Search library in this order: stdlib, custom lib dirs, paths\n    } else {\n      const plainName = internalPath.substring(libraryPrefix.length);\n      const indexName = plainName + \"/index\";\n      if (Object.prototype.hasOwnProperty.call(libraryFiles, plainName)) {\n        sourceText = libraryFiles[plainName];\n        sourcePath = libraryPrefix + plainName + extension.ext;\n      } else if (Object.prototype.hasOwnProperty.call(libraryFiles, indexName)) {\n        sourceText = libraryFiles[indexName];\n        sourcePath = libraryPrefix + indexName + extension.ext;\n      } else { // custom lib dirs\n        for (const libDir of customLibDirs) {\n          if ((sourceText = readFile(plainName + extension.ext, libDir)) != null) {\n            sourcePath = libraryPrefix + plainName + extension.ext;\n            break;\n          } else {\n            if ((sourceText = readFile(indexName + extension.ext, libDir)) != null) {\n              sourcePath = libraryPrefix + indexName + extension.ext;\n              break;\n            }\n          }\n        }\n        if (sourceText == null) { // paths\n          const match = internalPath.match(/^~lib\\/((?:@[^/]+\\/)?[^/]+)(?:\\/(.+))?/); // ~lib/(pkg)/(path), ~lib/(@org/pkg)/(path)\n          if (match) {\n            const packageName = match[1];\n            const isPackageRoot = match[2] === undefined;\n            const filePath = isPackageRoot ? \"index\" : match[2];\n            const basePath = packageBases.has(dependeePath) ? packageBases.get(dependeePath) : \".\";\n            if (args.traceResolution) stderr.write(\"Looking for package '\" + packageName + \"' file '\" + filePath + \"' relative to '\" + basePath + \"'\" + EOL);\n            const absBasePath = path.isAbsolute(basePath) ? basePath : path.join(baseDir, basePath);\n            const paths = [];\n            for (let parts = absBasePath.split(SEP), i = parts.length, k = SEP == \"/\" ? 0 : 1; i >= k; --i) {\n              if (parts[i - 1] !== \"node_modules\") paths.push(parts.slice(0, i).join(SEP) + SEP + \"node_modules\");\n            }\n            for (const currentPath of paths.concat(...args.path).map(p => path.relative(baseDir, p))) {\n              if (args.traceResolution) stderr.write(\"  in \" + path.join(currentPath, packageName) + EOL);\n              let mainPath = \"assembly\";\n              if (packageMains.has(packageName)) { // use cached\n                mainPath = packageMains.get(packageName);\n              } else { // evaluate package.json\n                let jsonPath = path.join(currentPath, packageName, \"package.json\");\n                let jsonText = readFile(jsonPath, baseDir);\n                if (jsonText != null) {\n                  try {\n                    let json = JSON.parse(jsonText);\n                    if (typeof json.ascMain === \"string\") {\n                      mainPath = json.ascMain.replace(extension.re_index, \"\");\n                      packageMains.set(packageName, mainPath);\n                    }\n                  } catch (e) { /* nop */ }\n                }\n              }\n              const mainDir = path.join(currentPath, packageName, mainPath);\n              const plainName = filePath;\n              if ((sourceText = readFile(path.join(mainDir, plainName + extension.ext), baseDir)) != null) {\n                sourcePath = libraryPrefix + packageName + \"/\" + plainName + extension.ext;\n                packageBases.set(sourcePath.replace(extension.re, \"\"), path.join(currentPath, packageName));\n                if (args.traceResolution) stderr.write(\"  -> \" + path.join(mainDir, plainName + extension.ext) + EOL);\n                break;\n              } else if (!isPackageRoot) {\n                const indexName = filePath + \"/index\";\n                if ((sourceText = readFile(path.join(mainDir, indexName + extension.ext), baseDir)) !== null) {\n                  sourcePath = libraryPrefix + packageName + \"/\" + indexName + extension.ext;\n                  packageBases.set(sourcePath.replace(extension.re, \"\"), path.join(currentPath, packageName));\n                  if (args.traceResolution) stderr.write(\"  -> \" + path.join(mainDir, indexName + extension.ext) + EOL);\n                  break;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    // No such file\n    if (sourceText == null) return null;\n    return { sourceText, sourcePath };\n  }\n\n  // Parses the backlog of imported files after including entry files\n  function parseBacklog() {\n    var internalPath;\n    while ((internalPath = assemblyscript.nextFile(program)) != null) {\n      let file = getFile(internalPath, assemblyscript.getDependee(program, internalPath));\n      if (file) {\n        stats.parseCount++;\n        stats.parseTime += measure(() => {\n          assemblyscript.parse(program, file.sourceText, file.sourcePath, false);\n        });\n      } else {\n        assemblyscript.parse(program, null, internalPath + extension.ext, false);\n      }\n    }\n    var numErrors = checkDiagnostics(program, stderr);\n    if (numErrors) {\n      const err = Error(numErrors + \" parse error(s)\");\n      err.stack = err.message; // omit stack\n      return callback(err);\n    }\n  }\n\n  // Include runtime template before entry files so its setup runs first\n  {\n    let runtimeName = String(args.runtime);\n    let runtimePath = \"rt/index-\" + runtimeName;\n    let runtimeText = exports.libraryFiles[runtimePath];\n    if (runtimeText == null) {\n      runtimePath = runtimeName;\n      runtimeText = readFile(runtimePath + extension.ext, baseDir);\n      if (runtimeText == null) return callback(Error(\"Runtime '\" + runtimeName + \"' not found.\"));\n    } else {\n      runtimePath = \"~lib/\" + runtimePath;\n    }\n    stats.parseCount++;\n    stats.parseTime += measure(() => {\n      assemblyscript.parse(program, runtimeText, runtimePath + extension.ext, true);\n    });\n  }\n\n  // Include entry files\n  for (let i = 0, k = argv.length; i < k; ++i) {\n    const filename = argv[i];\n\n    let sourcePath = String(filename).replace(/\\\\/g, \"/\").replace(extension.re, \"\").replace(/[\\\\/]$/, \"\");\n    \n    // Setting the path to relative path\n    sourcePath = path.isAbsolute(sourcePath) ? path.relative(baseDir, sourcePath) : sourcePath;\n\n    // Try entryPath.ext, then entryPath/index.ext\n    let sourceText = readFile(sourcePath + extension.ext, baseDir);\n    if (sourceText == null) {\n      sourceText = readFile(sourcePath + \"/index\" + extension.ext, baseDir);\n      if (sourceText != null) sourcePath += \"/index\" + extension.ext;\n      else sourcePath += extension.ext;\n    } else {\n      sourcePath += extension.ext;\n    }\n\n    stats.parseCount++;\n    stats.parseTime += measure(() => {\n      assemblyscript.parse(program, sourceText, sourcePath, true);\n    });\n  }\n\n  // Parse entry files\n  {\n    let code = parseBacklog();\n    if (code) return code;\n  }\n\n  // Call afterParse transform hook\n  {\n    let error = applyTransform(\"afterParse\", program.parser);\n    if (error) return callback(error);\n  }\n\n  // Parse additional files, if any\n  {\n    let code = parseBacklog();\n    if (code) return code;\n  }\n\n  // Print files and exit if listFiles\n  if (args.listFiles) {\n    // FIXME: not a proper C-like API\n    stderr.write(program.sources.map(s => s.normalizedPath).sort().join(EOL) + EOL);\n    return callback(null);\n  }\n\n  // Pre-emptively initialize the program\n  stats.initializeCount++;\n  stats.initializeTime += measure(() => {\n    assemblyscript.initializeProgram(program);\n  });\n\n  // Call afterInitialize transform hook\n  {\n    let error = applyTransform(\"afterInitialize\", program);\n    if (error) return callback(error);\n  }\n\n  var module;\n  stats.compileCount++;\n  stats.compileTime += measure(() => {\n    module = assemblyscript.compile(program);\n  });\n  var numErrors = checkDiagnostics(program, stderr);\n  if (numErrors) {\n    if (module) module.dispose();\n    const err = Error(numErrors + \" compile error(s)\");\n    err.stack = err.message; // omit stack\n    return callback(err);\n  }\n\n  // Call afterCompile transform hook\n  {\n    let error = applyTransform(\"afterCompile\", module);\n    if (error) return callback(error);\n  }\n\n  // Validate the module if requested\n  if (!args.noValidate) {\n    stats.validateCount++;\n    stats.validateTime += measure(() => {\n      if (!module.validate()) {\n        module.dispose();\n        return callback(Error(\"Validate error\"));\n      }\n    });\n  }\n\n  // Set Binaryen-specific options\n  if (args.trapMode === \"clamp\") {\n    stats.optimizeCount++;\n    stats.optimizeTime += measure(() => {\n      module.runPass(\"trap-mode-clamp\");\n    });\n  } else if (args.trapMode === \"js\") {\n    stats.optimizeCount++;\n    stats.optimizeTime += measure(() => {\n      module.runPass(\"trap-mode-js\");\n    });\n  } else if (args.trapMode !== \"allow\") {\n    module.dispose();\n    return callback(Error(\"Unsupported trap mode\"));\n  }\n\n  // Optimize the module\n  const debugInfo = args.debug;\n  const usesARC = args.runtime == \"half\" || args.runtime == \"full\";\n  const converge = args.converge;\n  const runPasses = [];\n  if (args.runPasses) {\n    if (typeof args.runPasses === \"string\") {\n      args.runPasses = args.runPasses.split(\",\");\n    }\n    if (args.runPasses.length) {\n      args.runPasses.forEach(pass => {\n        if (runPasses.indexOf(pass = pass.trim()) < 0)\n          runPasses.push(pass);\n      });\n    }\n  }\n\n  stats.optimizeTime += measure(() => {\n    stats.optimizeCount++;\n    module.optimize(optimizeLevel, shrinkLevel, debugInfo, usesARC);\n    module.runPasses(runPasses);\n    if (converge) {\n      let last = module.toBinary();\n      do {\n        stats.optimizeCount++;\n        module.optimize(optimizeLevel, shrinkLevel, debugInfo, usesARC);\n        module.runPasses(runPasses);\n        let next = module.toBinary();\n        if (next.output.length >= last.output.length) {\n          if (next.output.length > last.output.length) {\n            stderr.write(\"Last converge was suboptimial.\" + EOL);\n          }\n          break;\n        }\n        last = next;\n      } while (true);\n    }\n  });\n\n  // Prepare output\n  if (!args.noEmit) {\n    let hasStdout = false;\n    let hasOutput = false;\n\n    if (args.outFile != null) {\n      if (/\\.was?t$/.test(args.outFile) && args.textFile == null) {\n        args.textFile = args.outFile;\n      } else if (/\\.js$/.test(args.outFile) && args.jsFile == null) {\n        args.jsFile = args.outFile;\n      } else if (args.binaryFile == null) {\n        args.binaryFile = args.outFile;\n      }\n    }\n\n    // Write binary\n    if (args.binaryFile != null) {\n      let basename = path.basename(args.binaryFile);\n      let sourceMapURL = args.sourceMap != null\n        ? args.sourceMap.length\n          ? args.sourceMap\n          : \"./\" + basename + \".map\"\n        : null;\n\n      let wasm;\n      stats.emitCount++;\n      stats.emitTime += measure(() => {\n        wasm = module.toBinary(sourceMapURL);\n      });\n\n      if (args.binaryFile.length) {\n        writeFile(args.binaryFile, wasm.output, baseDir);\n      } else {\n        writeStdout(wasm.output);\n        hasStdout = true;\n      }\n      hasOutput = true;\n\n      // Post-process source map\n      if (wasm.sourceMap != null) {\n        if (args.binaryFile.length) {\n          let map = JSON.parse(wasm.sourceMap);\n          map.sourceRoot = \"./\" + basename;\n          let contents = [];\n          map.sources.forEach((name, index) => {\n            let text = assemblyscript.getSource(program, name.replace(extension.re, \"\"));\n            if (text == null) return callback(Error(\"Source of file '\" + name + \"' not found.\"));\n            contents[index] = text;\n          });\n          map.sourcesContent = contents;\n          writeFile(path.join(\n            path.dirname(args.binaryFile),\n            path.basename(sourceMapURL)\n          ).replace(/^\\.\\//, \"\"), JSON.stringify(map), baseDir);\n        } else {\n          stderr.write(\"Skipped source map (stdout already occupied)\" + EOL);\n        }\n      }\n    }\n\n    // Write JS\n    if (args.jsFile != null) {\n      let js;\n      if (args.jsFile.length) {\n        stats.emitCount++;\n        stats.emitTime += measure(() => {\n          js = module.toAsmjs();\n        });\n        writeFile(args.jsFile, js, baseDir);\n      } else if (!hasStdout) {\n        stats.emitCount++;\n        stats.emitTime += measure(() => {\n          js = module.toAsmjs();\n        });\n        writeStdout(js);\n        hasStdout = true;\n      }\n      hasOutput = true;\n    }\n\n    // Write WebIDL\n    if (args.idlFile != null) {\n      let idl;\n      if (args.idlFile.length) {\n        stats.emitCount++;\n        stats.emitTime += measure(() => {\n          idl = assemblyscript.buildIDL(program);\n        });\n        writeFile(args.idlFile, idl, baseDir);\n      } else if (!hasStdout) {\n        stats.emitCount++;\n        stats.emitTime += measure(() => {\n          idl = assemblyscript.buildIDL(program);\n        });\n        writeStdout(idl);\n        hasStdout = true;\n      }\n      hasOutput = true;\n    }\n\n    // Write TypeScript definition\n    if (args.tsdFile != null) {\n      let tsd;\n      if (args.tsdFile.length) {\n        stats.emitCount++;\n        stats.emitTime += measure(() => {\n          tsd = assemblyscript.buildTSD(program);\n        });\n        writeFile(args.tsdFile, tsd, baseDir);\n      } else if (!hasStdout) {\n        stats.emitCount++;\n        stats.emitTime += measure(() => {\n          tsd = assemblyscript.buildTSD(program);\n        });\n        writeStdout(tsd);\n        hasStdout = true;\n      }\n      hasOutput = true;\n    }\n\n    // Write text (must be last)\n    if (args.textFile != null || !hasOutput) {\n      let wat;\n      if (args.textFile && args.textFile.length) {\n        stats.emitCount++;\n        stats.emitTime += measure(() => {\n          wat = module.toText();\n        });\n        writeFile(args.textFile, wat, baseDir);\n      } else if (!hasStdout) {\n        stats.emitCount++;\n        stats.emitTime += measure(() => {\n          wat = module.toText();\n        });\n        writeStdout(wat);\n      }\n    }\n  }\n\n  module.dispose();\n  if (args.measure) {\n    printStats(stats, stderr);\n  }\n\n  return callback(null);\n\n  function readFileNode(filename, baseDir) {\n    let name = path.resolve(baseDir, filename);\n    try {\n      let text;\n      stats.readCount++;\n      stats.readTime += measure(() => {\n        text = fs.readFileSync(name, { encoding: \"utf8\" });\n      });\n      return text;\n    } catch (e) {\n      return null;\n    }\n  }\n\n  function writeFileNode(filename, contents, baseDir) {\n    try {\n      stats.writeCount++;\n      stats.writeTime += measure(() => {\n        const dirPath = path.resolve(baseDir, path.dirname(filename));\n        filename = path.basename(filename);\n        const outputFilePath = path.join(dirPath, filename);\n        if (!fs.existsSync(dirPath)) mkdirp(dirPath);\n        if (typeof contents === \"string\") {\n          fs.writeFileSync(outputFilePath, contents, { encoding: \"utf8\" } );\n        } else {\n          fs.writeFileSync(outputFilePath, contents);\n        }\n      });\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function listFilesNode(dirname, baseDir) {\n    var files;\n    try {\n      stats.readCount++;\n      stats.readTime += measure(() => {\n        files = fs.readdirSync(path.join(baseDir, dirname)).filter(file => extension.re_except_d.test(file));\n      });\n      return files;\n    } catch (e) {\n      return null;\n    }\n  }\n\n  function writeStdout(contents) {\n    if (!writeStdout.used) {\n      stats.writeCount++;\n      writeStdout.used = true;\n    }\n    stats.writeTime += measure(() => {\n      if (typeof contents === \"string\") {\n        stdout.write(contents, { encoding: \"utf8\" });\n      } else {\n        stdout.write(contents);\n      }\n    });\n  }\n};\n\n/** Checks diagnostics emitted so far for errors. */\nfunction checkDiagnostics(program, stderr) {\n  var diagnostic;\n  var numErrors = 0;\n  while ((diagnostic = assemblyscript.nextDiagnostic(program)) != null) {\n    if (stderr) {\n      stderr.write(\n        assemblyscript.formatDiagnostic(diagnostic, stderr.isTTY, true) +\n        EOL + EOL\n      );\n    }\n    if (assemblyscript.isError(diagnostic)) ++numErrors;\n  }\n  return numErrors;\n}\n\nexports.checkDiagnostics = checkDiagnostics;\n\n/** Creates an empty set of stats. */\nfunction createStats() {\n  return {\n    readTime: 0,\n    readCount: 0,\n    writeTime: 0,\n    writeCount: 0,\n    parseTime: 0,\n    parseCount: 0,\n    initializeTime: 0,\n    initializeCount: 0,\n    compileTime: 0,\n    compileCount: 0,\n    emitTime: 0,\n    emitCount: 0,\n    validateTime: 0,\n    validateCount: 0,\n    optimizeTime: 0,\n    optimizeCount: 0,\n    transformTime: 0,\n    transformCount: 0\n  };\n}\n\nexports.createStats = createStats;\n\nif (!process.hrtime) process.hrtime = require(\"browser-process-hrtime\");\n\n/** Measures the execution time of the specified function.  */\nfunction measure(fn) {\n  const start = process.hrtime();\n  fn();\n  const times = process.hrtime(start);\n  return times[0] * 1e9 + times[1];\n}\n\nexports.measure = measure;\n\nfunction pad(str, len) {\n  while (str.length < len) str = \" \" + str;\n  return str;\n}\n\n/** Formats a high resolution time to a human readable string. */\nfunction formatTime(time) {\n  return time ? (time / 1e6).toFixed(3) + \" ms\" : \"n/a\";\n}\n\nexports.formatTime = formatTime;\n\n/** Formats and prints out the contents of a set of stats. */\nfunction printStats(stats, output) {\n  function format(time, count) {\n    return pad(formatTime(time), 12) + \"  n=\" + count;\n  }\n  (output || process.stdout).write([\n    \"I/O Read   : \" + format(stats.readTime, stats.readCount),\n    \"I/O Write  : \" + format(stats.writeTime, stats.writeCount),\n    \"Parse      : \" + format(stats.parseTime, stats.parseCount),\n    \"Initialize : \" + format(stats.initializeTime, stats.initializeCount),\n    \"Compile    : \" + format(stats.compileTime, stats.compileCount),\n    \"Emit       : \" + format(stats.emitTime, stats.emitCount),\n    \"Validate   : \" + format(stats.validateTime, stats.validateCount),\n    \"Optimize   : \" + format(stats.optimizeTime, stats.optimizeCount),\n    \"Transform  : \" + format(stats.transformTime, stats.transformCount)\n  ].join(EOL) + EOL);\n}\n\nexports.printStats = printStats;\n\nvar allocBuffer = typeof global !== \"undefined\" && global.Buffer\n  ? global.Buffer.allocUnsafe || function(len) { return new global.Buffer(len); }\n  : function(len) { return new Uint8Array(len); };\n\n/** Creates a memory stream that can be used in place of stdout/stderr. */\nfunction createMemoryStream(fn) {\n  var stream = [];\n  stream.write = function(chunk) {\n    if (fn) fn(chunk);\n    if (typeof chunk === \"string\") {\n      let buffer = allocBuffer(utf8.length(chunk));\n      utf8.write(chunk, buffer, 0);\n      chunk = buffer;\n    }\n    this.push(chunk);\n  };\n  stream.reset = function() {\n    stream.length = 0;\n  };\n  stream.toBuffer = function() {\n    var offset = 0, i = 0, k = this.length;\n    while (i < k) offset += this[i++].length;\n    var buffer = allocBuffer(offset);\n    offset = i = 0;\n    while (i < k) {\n      buffer.set(this[i], offset);\n      offset += this[i].length;\n      ++i;\n    }\n    return buffer;\n  };\n  stream.toString = function() {\n    var buffer = this.toBuffer();\n    return utf8.read(buffer, 0, buffer.length);\n  };\n  return stream;\n}\n\nexports.createMemoryStream = createMemoryStream;\n\n/** Compatible TypeScript compiler options for syntax highlighting etc. */\nexports.tscOptions = {\n  alwaysStrict: true,\n  noImplicitAny: true,\n  noImplicitReturns: true,\n  noImplicitThis: true,\n  noEmitOnError: true,\n  strictNullChecks: true,\n  experimentalDecorators: true,\n  target: \"esnext\",\n  module: \"commonjs\",\n  noLib: true,\n  types: [],\n  allowJs: false\n};\n","/**\n * @fileoverview UTF8 utility.\n * @license Apache-2.0\n */\n\n// @protobufjs/utf8\n\n/**\n * A minimal UTF8 implementation for number arrays.\n * @memberof util\n * @namespace\n */\nvar utf8 = exports;\n\n/**\n * Calculates the UTF8 byte length of a string.\n * @param {string} string String\n * @returns {number} Byte length\n */\nutf8.length = function utf8_length(string) {\n  var len = 0,\n      c = 0;\n  for (var i = 0, l = string.length; i < l; ++i) {\n    c = string.charCodeAt(i);\n    if (c < 128)\n      len += 1;\n    else if (c < 2048)\n      len += 2;\n    else if ((c & 0xFC00) === 0xD800 && (string.charCodeAt(i + 1) & 0xFC00) === 0xDC00) {\n      ++i;\n      len += 4;\n    } else\n      len += 3;\n  }\n  return len;\n};\n\n/**\n * Reads UTF8 bytes as a string.\n * @param {Uint8Array} buffer Source buffer\n * @param {number} start Source start\n * @param {number} end Source end\n * @returns {string} String read\n */\nutf8.read = function utf8_read(buffer, start, end) {\n  var len = end - start;\n  if (len < 1)\n    return \"\";\n  var parts = null,\n      chunk = [],\n      i = 0, // char offset\n      t;     // temporary\n  while (start < end) {\n    t = buffer[start++];\n    if (t < 128)\n      chunk[i++] = t;\n    else if (t > 191 && t < 224)\n      chunk[i++] = (t & 31) << 6 | buffer[start++] & 63;\n    else if (t > 239 && t < 365) {\n      t = ((t & 7) << 18 | (buffer[start++] & 63) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63) - 0x10000;\n      chunk[i++] = 0xD800 + (t >> 10);\n      chunk[i++] = 0xDC00 + (t & 1023);\n    } else\n      chunk[i++] = (t & 15) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63;\n    if (i > 8191) {\n      (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));\n      i = 0;\n    }\n  }\n  if (parts) {\n    if (i)\n      parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));\n    return parts.join(\"\");\n  }\n  return String.fromCharCode.apply(String, chunk.slice(0, i));\n};\n\n/**\n * Writes a string as UTF8 bytes.\n * @param {string} string Source string\n * @param {Uint8Array} buffer Destination buffer\n * @param {number} offset Destination offset\n * @returns {number} Bytes written\n */\nutf8.write = function utf8_write(string, buffer, offset) {\n  var start = offset,\n      c1, // character 1\n      c2; // character 2\n  for (var i = 0; i < string.length; ++i) {\n    c1 = string.charCodeAt(i);\n    if (c1 < 128) {\n      buffer[offset++] = c1;\n    } else if (c1 < 2048) {\n      buffer[offset++] = c1 >> 6 | 192;\n      buffer[offset++] = c1 & 63 | 128;\n    } else if ((c1 & 0xFC00) === 0xD800 && ((c2 = string.charCodeAt(i + 1)) & 0xFC00) === 0xDC00) {\n      c1 = 0x10000 + ((c1 & 0x03FF) << 10) + (c2 & 0x03FF);\n      ++i;\n      buffer[offset++] = c1 >> 18 | 240;\n      buffer[offset++] = c1 >> 12 & 63 | 128;\n      buffer[offset++] = c1 >> 6 & 63 | 128;\n      buffer[offset++] = c1 & 63 | 128;\n    } else {\n      buffer[offset++] = c1 >> 12 | 224;\n      buffer[offset++] = c1 >> 6 & 63 | 128;\n      buffer[offset++] = c1 & 63 | 128;\n    }\n  }\n  return offset - start;\n};\n","/**\n * @fileoverview Command line options utility.\n * @license Apache-2.0\n */\n\nconst colorsUtil = require(\"./colors\");\n\n// type | meaning\n// -----|---------------\n// b    | boolean\n// i    | integer\n// f    | float\n// s    | string\n// I    | integer array\n// F    | float array\n// S    | string array\n\n/** Parses the specified command line arguments according to the given configuration. */\nfunction parse(argv, config, propagateDefaults = true) {\n  var options = {};\n  var unknown = [];\n  var args = [];\n  var trailing = [];\n\n  // make an alias map and initialize defaults\n  var aliases = {};\n  Object.keys(config).forEach(key => {\n    if (key.startsWith(\" \")) return;\n    var option = config[key];\n    if (option.alias != null) {\n      if (typeof option.alias === \"string\") aliases[option.alias] = key;\n      else if (Array.isArray(option.alias)) option.alias.forEach(alias => aliases[alias] = key);\n    }\n    if (option.default != null) options[key] = option.default;\n  });\n\n  // iterate over argv\n  for (var i = 0, k = (argv = argv.slice()).length; i < k; ++i) {\n    let arg = argv[i];\n    if (arg == \"--\") { ++i; break; }\n    let match = /^(?:(-\\w)(?:=(.*))?|(--\\w{2,})(?:=(.*))?)$/.exec(arg), option, key;\n    if (match) {\n      if (config[arg]) option = config[key = arg]; // exact\n      else if (match[1] != null) { // alias\n        option = config[key = aliases[match[1].substring(1)]];\n        if (option && match[2] != null) argv[i--] = match[2];\n      } else if (match[3] != null) { // full\n        option = config[key = match[3].substring(2)];\n        if (option && match[4] != null) argv[i--] = match[4];\n      }\n    } else {\n      if (arg.charCodeAt(0) == 45) option = config[key = arg]; // exact\n      else { args.push(arg); continue; } // argument\n    }\n    if (option) {\n      if (option.value) {\n        // alias setting fixed values\n        Object.keys(option.value).forEach(k => options[k] = option.value[k]);\n      } else if (option.type == null || option.type === \"b\") {\n        // boolean flag not taking a value\n        options[key] = true;\n      } else {\n        if (i + 1 < argv.length && argv[i + 1].charCodeAt(0) != 45) {\n          // non-boolean with given value\n          switch (option.type) {\n            case \"i\": options[key] = parseInt(argv[++i], 10); break;\n            case \"I\": options[key] = (options[key] || []).concat(parseInt(argv[++i], 10)); break;\n            case \"f\": options[key] = parseFloat(argv[++i]); break;\n            case \"F\": options[key] = (options[key] || []).concat(parseFloat(argv[++i])); break;\n            case \"s\": options[key] = String(argv[++i]); break;\n            case \"S\": options[key] = (options[key] || []).concat(argv[++i].split(\",\")); break;\n            default: unknown.push(arg); --i;\n          }\n        } else {\n          // non-boolean with omitted value\n          switch (option.type) {\n            case \"i\":\n            case \"f\": options[key] = option.default || 0; break;\n            case \"s\": options[key] = option.default || \"\"; break;\n            case \"I\":\n            case \"F\":\n            case \"S\": options[key] = option.default || []; break;\n            default: unknown.push(arg);\n          }\n        }\n      }\n    } else unknown.push(arg);\n  }\n  while (i < k) trailing.push(argv[i++]); // trailing\n  if (propagateDefaults) addDefaults(config, options);\n\n  return { options, unknown, arguments: args, trailing };\n}\n\nexports.parse = parse;\n\n/** Generates the help text for the specified configuration. */\nfunction help(config, options) {\n  if (!options) options = {};\n  var indent = options.indent || 2;\n  var padding = options.padding || 24;\n  var eol = options.eol || \"\\n\";\n  var sbCategories = {};\n  var sbOther = [];\n  Object.keys(config).forEach(key => {\n    var option = config[key];\n    if (option.description == null) return;\n    var text = \"\";\n    while (text.length < indent) text += \" \";\n    text += \"--\" + key;\n    if (option.alias) text += \", -\" + option.alias;\n    while (text.length < padding) text += \" \";\n    var sb;\n    if (!options.noCategories && option.category) {\n      if (!(sb = sbCategories[option.category])) {\n        sbCategories[option.category] = sb = [];\n      }\n    } else {\n      sb = sbOther;\n    }\n    if (Array.isArray(option.description)) {\n      sb.push(text + option.description[0] + option.description.slice(1).map(line => {\n        for (let i = 0; i < padding; ++i) line = \" \" + line;\n        return eol + line;\n      }).join(\"\"));\n    } else sb.push(text + option.description);\n  });\n  var sb = [];\n  var hasCategories = false;\n  Object.keys(sbCategories).forEach(category => {\n    hasCategories = true;\n    sb.push(eol + \" \" + colorsUtil.gray(category) + eol);\n    sb.push(sbCategories[category].join(eol));\n  });\n  if (hasCategories) {\n    sb.push(eol + \" \" + colorsUtil.gray(\"Other\") + eol);\n  }\n  sb.push(sbOther.join(eol));\n  return sb.join(eol);\n}\n\nexports.help = help;\n\n/** Sanitizes an option value to be a valid value of the option's type. */\nfunction sanitizeValue(value, type) {\n  if (value != null) {\n    switch (type) {\n      case undefined:\n      case \"b\": return Boolean(value);\n      case \"i\": return Math.trunc(value) || 0;\n      case \"f\": return Number(value) || 0;\n      case \"s\": return String(value);\n      case \"I\": {\n        if (!Array.isArray(value)) value = [ value ];\n        return value.map(v => Math.trunc(v) || 0);\n      }\n      case \"F\": {\n        if (!Array.isArray(value)) value = [ value ];\n        return value.map(v => Number(v) || 0);\n      }\n      case \"S\": {\n        if (!Array.isArray(value)) value = [ value ];\n        return value.map(String);\n      }\n    }\n  }\n  return undefined;\n}\n\n/** Merges two sets of options into one, preferring the current over the parent set. */\nfunction merge(config, currentOptions, parentOptions) {\n  const mergedOptions = {};\n  for (const [key, { type, mutuallyExclusive }] of Object.entries(config)) {\n    let currentValue = sanitizeValue(currentOptions[key], type);\n    let parentValue = sanitizeValue(parentOptions[key], type);\n    if (currentValue == null) {\n      if (parentValue != null) {\n        // only parent value present\n        if (Array.isArray(parentValue)) {\n          let exclude;\n          if (mutuallyExclusive != null && (exclude = currentOptions[mutuallyExclusive])) {\n            mergedOptions[key] = parentValue.filter(value => !exclude.includes(value));\n          } else {\n            mergedOptions[key] = parentValue.slice();\n          }\n        } else {\n          mergedOptions[key] = parentValue;\n        }\n      }\n    } else if (parentValue == null) {\n      // only current value present\n      if (Array.isArray(currentValue)) {\n        mergedOptions[key] = currentValue.slice();\n      } else {\n        mergedOptions[key] = currentValue;\n      }\n    } else {\n      // both current and parent values present\n      if (Array.isArray(currentValue)) {\n        let exclude;\n        if (mutuallyExclusive != null && (exclude = currentOptions[mutuallyExclusive])) {\n          mergedOptions[key] = [\n            ...currentValue,\n            ...parentValue.filter(value => !currentValue.includes(value) && !exclude.includes(value))\n          ];\n        } else {\n          mergedOptions[key] = [\n            ...currentValue,\n            ...parentValue.filter(value => !currentValue.includes(value)) // dedup\n          ];\n        }\n      } else {\n        mergedOptions[key] = currentValue;\n      }\n    }\n  }\n  return mergedOptions;\n}\n\nexports.merge = merge;\n\n/** Populates default values on a parsed options result. */\nfunction addDefaults(config, options) {\n  for (const [key, { default: defaultValue }] of Object.entries(config)) {\n    if (options[key] == null && defaultValue != null) {\n      options[key] = defaultValue;\n    }\n  }\n  return options;\n}\n\nexports.addDefaults = addDefaults;\n","/**\n * @fileoverview Recursive mkdir.\n * @license\n * Copyright 2010 James Halliday (mail@substack.net)\n *\n * This project is free software released under the MIT/X11 license:\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nconst path = require(\"path\");\nconst fs = require(\"fs\");\n\nmodule.exports = function mkdirp(p, opts, made) {\n  if (!opts || typeof opts !== \"object\") {\n    opts = { mode: opts };\n  }\n  var mode = opts.mode;\n  if (mode === undefined) {\n    mode = 0o777 & (~process.umask());\n  }\n  if (!made) made = null;\n  p = path.resolve(p);\n  try {\n    fs.mkdirSync(p, mode);\n    made = made || p;\n  } catch (err0) {\n    switch (err0.code) {\n      case \"ENOENT\":\n        made = mkdirp(path.dirname(p), opts, made);\n        mkdirp(p, opts, made);\n        break;\n      default:\n        var stat;\n        try {\n          stat = fs.statSync(p);\n        } catch (err1) {\n          throw err0;\n        }\n        if (!stat.isDirectory()) throw err0;\n        break;\n    }\n  }\n  return made;\n};\n","/**\n * @fileoverview File finding utility.\n * @license Apache-2.0\n */\n\nconst fs = require(\"fs\");\nconst path = require(\"path\");\n\nfunction findFiles(dirname, filter) {\n  var out = [];\n  fs.readdirSync(dirname).forEach(name => {\n    if (fs.statSync(path.join(dirname, name)).isDirectory()) {\n      findFiles(path.join(dirname, name), filter).forEach(iname => out.push(name + \"/\" + iname));\n    } else if (!filter || typeof filter === \"function\" ? filter(name) : filter.test(name)) {\n      out.push(name);\n    }\n  });\n  return out;\n}\n\nexports.files = findFiles;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__12__;","if(typeof __WEBPACK_EXTERNAL_MODULE__13__ === 'undefined') {var e = new Error(\"Cannot find module 'assemblyscript'\"); e.code = 'MODULE_NOT_FOUND'; throw e;}\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__13__;","module.exports = process.hrtime || hrtime\n\n// polyfil for window.performance.now\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nfunction hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}"],"sourceRoot":""}